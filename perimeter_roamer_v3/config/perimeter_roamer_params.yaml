# Perimeter Roamer V3 Configuration
perimeter_roamer_node:
  ros__parameters:
    # Behavior Tree Configuration
    bt_xml_filename: ""  # Will be set by launch file
    bt_loop_duration: 0.5  # Seconds between BT ticks
    
    # Battery Configuration
    low_battery_threshold: 25.0  # Percentage
    battery_topic: "/sigyn/teensy_bridge/battery/status"
    
    # LIDAR Configuration
    scan_topic: "/scan"
    max_invalid_scan_ratio: 0.6  # Maximum ratio of invalid LIDAR readings
    scan_timeout: 3.0  # Seconds
    
    # Navigation Configuration
    navigate_to_pose_action: "/navigate_to_pose"
    default_navigation_timeout: 30.0  # Seconds
    doorway_navigation_timeout: 60.0  # Seconds for careful doorway navigation
    narrow_navigation_timeout: 90.0   # Seconds for very narrow passages
    
    # Space Classification Configuration
    robot_radius: 0.44  # Robot radius in meters
    wall_database_path: "/home/ros/sigyn_ws/walls.db"
    
    # Distance thresholds for space classification
    very_close_threshold: 0.8   # Distance considered very close to walls
    medium_distance_threshold: 2.0  # Boundary between medium and far distances
    
    # Charging Station Configuration (when implemented)
    charging_station:
      x: 0.0
      y: 0.0
      z: 0.0
      orientation:
        x: 0.0
        y: 0.0
        z: 0.0
        w: 1.0
    
    # Movement parameters for different space types
    movement_params:
      room:
        min_distance: 1.0
        max_distance: 3.0
        wall_follow_distance: 1.0  # Stay at least 1m from walls in rooms
      hallway:
        min_distance: 0.5
        max_distance: 1.5
        center_tolerance: 0.2  # Try to stay centered in hallways
      doorway:
        min_distance: 0.3
        max_distance: 0.8
        alignment_tolerance: 0.1  # Very precise alignment for doorways
      very_narrow:
        min_distance: 0.2
        max_distance: 0.6
        creep_speed: 0.1  # Slow speed in very narrow spaces
