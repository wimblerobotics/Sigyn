#!/bin/bash
# Launch simulation with clean environment to avoid snap library conflicts

# Unset snap-related variables that interfere with Gazebo/RViz
unset GIO_MODULE_DIR
unset GTK_PATH
unset GTK_EXE_PREFIX
unset LOCPATH
unset GTK_IM_MODULE_FILE
unset GSETTINGS_SCHEMA_DIR

# Keep only the original system paths for XDG variables
export XDG_DATA_DIRS="${XDG_DATA_DIRS_VSCODE_SNAP_ORIG:-/usr/share/ubuntu:/usr/share/gnome:/usr/local/share:/usr/share:/var/lib/snapd/desktop}"
export XDG_CONFIG_DIRS="${XDG_CONFIG_DIRS_VSCODE_SNAP_ORIG:-/etc/xdg}"

# Launch the simulation
ros2 launch base sigyn.launch.py use_sim_time:=true
